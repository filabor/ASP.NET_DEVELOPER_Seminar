@using CMS_seminar.Data
@using Microsoft.AspNetCore.Identity
@model CMS_seminar.ViewModels.UserViewModel

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager


@if(SignInManager.IsSignedIn(User)&& await UserManager.IsInRoleAsync(UserManager.GetUserAsync(User).Result, "admin"))
{
    <div class="form-group">
    <label class="control-label">Role</label>
    <select class="form-select" name="Role">
        @foreach (var role in ViewBag.Roles)
        {
                if(Model != null && Model.Role == role.Name)
                {
                    <option selected value="@role.Name">@role.Name</option>
                }
                else
                {
                    <option value="@role.Name">@role.Name</option>
                }
        }
    </select>
</div>
} 
